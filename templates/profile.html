{% extends 'layout.html' %}

{% block profileheader %}
<div id="successAlertReport" class="alert alert-success hidden-alert" role="alert"></div>
<div id="errorAlertReport" class="alert alert-danger hidden-alert" role="alert"></div>

<div class="profile-header mt-1">
	<div class="header-text col-md-auto">
		<h1 class="text-uppercase text-light col-md-auto float-left">{{data.name}} {{data.last_name}} {% if data.logout == None %} <small class="text-success"> ONLINE </small>{% else %} <small class="text-muted"> Last seen: {{data.logout}} </small> {% endif %}</h1>
		<div class="float-right row">
			{% if data.username != session['username'] %}
				{% if pic.profile_pic != "static/img/default_profile.jpg"%}
				    <div id="start-chat" class="mr-2 mt-2">
						{% if mutual == True %}
							<a id="start-chat-button" class="btn btn-success" href="/chats/{{data.username}}" role="button">START CHAT</a>
						{% endif %}
						<div class="form_holder"></div>
					</div>
				    <div id="like-button" class="mr-2 mt-2">
				    	{% if likes == True %}
						    <div class="btn btn-danger">LIKED</div>
						{% else %}
						    <div class="btn btn-outline-danger">LIKE</div>
						{% endif %}
					</div><br>
				{% endif %}
				<div id="blocking" class="mr-2 mt-2">
					{% if i_blocked == True %}
						<div id="unblock-user" class="btn btn-info">UNBLOCK USER</div>
					{% elif he_blocked == True %}
						<div id="blocked-user" class="btn btn-info">THIS USER BLOCKED YOU</div>
					{% else %}
						<div id="block-user" class="btn btn-info">BLOCK USER</div>
					{% endif %}
				</div>
		    {% endif %}
		</div>
	</div>
	<h3 class="text-light">Fame rating: {{fame_rating}}</h3>
	<div class="container col-12 col-md-auto">
		<img class="rounded-circle border border-warning profile-pic-big img-responsive float-left" src="../{{pic.profile_pic}}">
	</div>
	<!-- <div class="container"> -->
		<div class="row px-4">
		    <div class="col-12 col-md-6 mt-5">
		    	<div class="profile-header-blocks rounded mr-1 p-2">
			      <p class="text-uppercase text-dark">Gender: <span class="text-white">{{ basic.gender}}</span></p>
			      <p class="text-uppercase text-dark">Age: <span class="text-white">{{ basic.age }}</span></p>
			      <p class="text-uppercase text-dark">Location: <span class="text-white">{{ city }}</span></p>
			    </div>
		    </div>
		    <div class="col-12 col-md-6 mt-5">
			    <div class="profile-header-blocks rounded mr-1 p-2">
			      <p class="text-uppercase text-dark">Looking for: <span class="text-white">{{ basic.target_gender}}</span></p>
			      <p class="text-uppercase text-dark">Age between: <span class="text-white">{{ basic.target_min_age }}</span> and <span class="text-white">{{ basic.target_max_age }}</span></p>
			    </div>
			</div>
	    </div>
<!-- 	</div> -->
</div>

{% endblock %}


{% block body%}

<div class="mt-3">
      {% for interest in my_interests %}
      		<button class="btn btn-warning tag_button_chosen" value="{{ interests.interest }}">#{{interest.interest}} </button>
      {% endfor %}
</div>

<div class="container">
	<div class="row">
		<div class="col-12 col-md-4">
			<div class="border-top border-left border-warning mt-3 mr-2 p-2 profile-info-block">
		    	<h5 class="text-uppercase text-center">appearance</h5>
		    	<div class="m-1">
				    <p>Height: {{appearance.height}}</p>
				    <p>Body type: {{appearance.body_type}}</p>
				    <p>Hair color: {{appearance.hair_color}}</p>
				    <p>Eye color: {{appearance.eye_color}}</p>
				    <p>Hair type: {{appearance.hair_type}}</p>
		    	</div>
		    </div>
		</div>
	{% if photos != "none" %}
		<div class="col-12 col-md-8">
			<div class="border-bottom border-right border-warning mt-3 mr-2 p-2 profile-info-block">
			{% for photo in photos %}
				<img class="img-responsive gallery_pic m-1" src="../{{photo['upload_pic']}}" data-toggle="modal" data-target="#user_gallery" data-whatever="../{{photo['upload_pic']}}">
			{% endfor %}
				<div class="modal fade" id="user_gallery" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  	<div class="modal-dialog" role="document">
				    	<div class="modal-content">
				      		<div class="modal-header">
				        		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          		<span aria-hidden="true">&times;</span>
				       			</button>
				      		</div>
				      		<div class="modal-body">
				            	<img>
				    		</div>
				    		{% if data.username == session['username'] %}
					    		<div class="modal-footer">
							        <button type="button" class="btn btn-danger" id="delete_pic">Delete picture</button>
							    </div>
							{% endif %}
				  		</div>
					</div>		
				</div>
			</div>
		</div>
		{% else %}
		<div class="col-12 col-md-8">
			<div class="border-bottom border-right border-warning mt-3 mr-2 p-5 profile-info-block">
				<h4 class="text-uppercase text-muted text-center">this user has no pictures :(</h4>
			</div>
		</div>
		{% endif %}
	</div>
<!-- </div> -->
	<div class="row">
	    <div class="col-12 col-md-4">
	    	<div class="border-top border-left border-warning mt-3 mr-2 p-2 profile-info-block">
		    	<h5 class="text-uppercase text-center">lifestyle</h5>
		    	<div class="m-1">
			      	<p>Relationship status: {{lifestyle.relationship_status}}</p>
				    <p>Children: {{lifestyle.children}}</p>
				    <p>Would like children: {{lifestyle.would_like_children}}</p>
				    <p>Diet: {{lifestyle.diet}}</p>
				    <p>Drinking: {{lifestyle.drinking}}</p>
				    <p>Smoking: {{lifestyle.smoking}}</p>
				</div>
			</div>
	    </div>
	    <div class="col-12 col-md-8">
	    	<div class="border-bottom border-right border-warning mt-3 mr-2 p-2 profile-info-block">
		    	<div class="m-1">
		    		<h5 class="text-uppercase text-center">about me</h5>
			    	<p>{{description.about_me}}</p>
			    </div>
			</div>
	    </div>
    </div>
    <div class="row">
	    <div class="col-12 col-md-4">
	    	<div class="border-top border-left border-warning mt-3 mr-2 p-2 profile-info-block">
		    	<h5 class="text-uppercase text-center">background</h5>
		    	<div class="m-1">
		    		<p>Education: {{background.education}}</p>
			    	<p>Employment: {{background.employment}}</p>
			    	<p>Occupation: {{background.occupation}}</p>
			    	<p>Languages I speak: {{background.languages}}</p>
		    	</div>
			</div>
	    </div>
	    <div class="col-12 col-md-8">
	    	<div class="border-bottom border-right border-warning mt-3 mr-2 p-2 profile-info-block">
		    	<div class="m-1">
		    		<h5 class="text-uppercase text-center">my soulmate</h5>
			    	<p>{{description.about_target}}</p>
			    </div>
			</div>
	    </div>
    </div>
{% if data.username != session['username'] %}
<div>
	<button class="btn btn-light" id="report_user">REPORT USER</button>
</div>
{% endif %}

{% endblock %}